{"version":3,"sources":["./src/app/pages/importar/listar-acompanhamento/listar-acompanhamento.page.html","./src/app/pages/importar/listar-acompanhamento/listar-acompanhamento-routing.module.ts","./src/app/pages/importar/listar-acompanhamento/listar-acompanhamento.module.ts","./src/app/pages/importar/listar-acompanhamento/listar-acompanhamento.page.scss","./src/app/pages/importar/listar-acompanhamento/listar-acompanhamento.page.ts"],"names":[],"mappings":"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","file":"pages-importar-listar-acompanhamento-listar-acompanhamento-module-es2015.js","sourcesContent":["module.exports = \"<ion-header>\\r\\n    <ion-toolbar class=\\\"ion-text-center\\\">\\r\\n        <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-back-button defaultHref=\\\"/menu-principal\\\" text=\\\"\\\"></ion-back-button>\\r\\n        </ion-buttons>\\r\\n        <ion-title class=\\\"ion-text-uppercase\\\">Importar Acompanhamento</ion-title>\\r\\n        <ion-buttons slot=\\\"end\\\">\\r\\n        <ion-menu-button menuId=\\\"main-content\\\"></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n    </ion-toolbar>   \\r\\n</ion-header>\\r\\n<ion-content>\\r\\n    <ion-searchbar [(ngModel)]=\\\"filtroLista\\\" (keyup)=\\\"filtrarLista($event)\\\" (ionCancel)=\\\"cancelaFiltroLista()\\\" (ionClear)=\\\"cancelaFiltroLista()\\\" cancelButtonText=\\\"Cancelar\\\" placeholder=\\\"Paciente, Carteira ou Senha\\\" [debounce]=\\\"250\\\" inputmode=\\\"text\\\" type=\\\"text\\\" enterkeyhint=\\\"search\\\" animated #searchInput></ion-searchbar> \\r\\n    <ion-chip *ngIf=\\\"listaAcompanhamentosFiltrados.length > 0\\\" (click)=\\\"marcarDesmarcarTodos()\\\">\\r\\n        <ion-icon name=\\\"checkmark-circle\\\" *ngIf=\\\"!flgMarcarTodos\\\"></ion-icon>\\r\\n        <ion-label *ngIf=\\\"!flgMarcarTodos\\\">Marcar Todos</ion-label>\\r\\n        <ion-icon name=\\\"checkmark-circle\\\" *ngIf=\\\"flgMarcarTodos\\\"></ion-icon>\\r\\n        <ion-label *ngIf=\\\"flgMarcarTodos\\\">Desmarcar Todos</ion-label>\\r\\n    </ion-chip> \\r\\n    <ion-list *ngFor=\\\"let acompanhamento of listaAcompanhamentosFiltrados\\\">\\r\\n        <ion-card>\\r\\n            <ion-card-header>\\r\\n                <ion-row> \\r\\n                    <ion-col size=\\\"2\\\">\\r\\n                        <ion-button size=\\\"small\\\" fill=\\\"clear\\\">\\r\\n                            <ion-spinner name=\\\"lines\\\" color=\\\"success\\\" *ngIf=\\\"acompanhamento.flgExibeGifProcessando && acompanhamento.flgImportar\\\"></ion-spinner>\\r\\n                            <ion-icon name=\\\"checkmark-circle\\\" *ngIf=\\\"acompanhamento.flgImportadoSucesso\\\"></ion-icon>\\r\\n                            <ion-checkbox slot=\\\"start\\\" [(ngModel)]=\\\"acompanhamento.flgImportar\\\" [disabled]=\\\"(!acompanhamento.flgPossuiFormulario)\\\" *ngIf=\\\"!acompanhamento.flgExibeGifProcessando && !acompanhamento.flgImportadoSucesso\\\"></ion-checkbox>\\r\\n                        </ion-button>                \\r\\n                    </ion-col>\\r\\n                    <ion-col size=\\\"10\\\">\\r\\n                        <ion-card-title><span [innerHTML]=\\\"acompanhamento.beneficiario.nomeBeneficiario\\\"></span></ion-card-title>\\r\\n                    </ion-col>                                \\r\\n                </ion-row>\\r\\n            </ion-card-header>           \\r\\n            <ion-card-content class=\\\"card-conteudo\\\">      \\r\\n                <ion-row>\\r\\n                  <ion-col>\\r\\n                    <span class=\\\"texto-card-label\\\">Carteira: </span><span class=\\\"texto-card-text\\\" [innerHTML]=\\\"acompanhamento.beneficiario.carteiraBeneficiario\\\"></span>\\r\\n                    <br>\\r\\n                    <span class=\\\"texto-card-label\\\">Senha: </span><span class=\\\"texto-card-text\\\" [innerHTML]=\\\"acompanhamento.senhaAutorizacao.senha\\\"></span>\\r\\n                    <br>\\r\\n                    <span class=\\\"texto-card-label\\\">Formulário: </span><span class=\\\"texto-card-text\\\" [innerHTML]=\\\"acompanhamento.configFormulario.nomeConfigFormulario\\\"></span>\\r\\n                    <br>\\r\\n                    <span class=\\\"texto-card-label\\\">Usuário: </span><span class=\\\"texto-card-text\\\" [innerHTML]=\\\"acompanhamento.usuario.nome\\\"></span>\\r\\n                    <br>\\r\\n                    <span class=\\\"texto-card-label\\\">Status: </span><span class=\\\"texto-card-text\\\" [innerHTML]=\\\"acompanhamento.status\\\"></span>\\r\\n                    <div *ngIf=\\\"!acompanhamento.flgPossuiFormulario\\\">\\r\\n                        <span class=\\\"texto-card-text-red\\\">* Formulário do acompanhamento não habilitado para o usuário</span>\\r\\n                    </div>\\r\\n                    <div *ngIf=\\\"acompanhamento.flgExisteDispositivo\\\">\\r\\n                        <span class=\\\"texto-card-text-yellow\\\">* Acompanhamento já existe no dispositivo e será atualizado.</span>\\r\\n                    </div> \\r\\n                  </ion-col>             \\r\\n                </ion-row>\\r\\n            </ion-card-content>\\r\\n        </ion-card>\\r\\n    </ion-list>\\r\\n    <ion-row *ngIf=\\\"listaAcompanhamentosFiltrados.length > 0\\\">\\r\\n        <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\r\\n            <ion-button id=\\\"btnImportar\\\" expand=\\\"block\\\" size=\\\"large\\\" (click)=\\\"confirmarImportarAcompanhamento()\\\">Importar</ion-button>\\r\\n        </ion-col>\\r\\n    </ion-row>\\r\\n</ion-content> \"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ListarAcompanhamentoPage } from './listar-acompanhamento.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ListarAcompanhamentoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ListarAcompanhamentoPageRoutingModule {}","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ListarAcompanhamentoPageRoutingModule } from './listar-acompanhamento-routing.module';\r\n\r\nimport { ListarAcompanhamentoPage } from './listar-acompanhamento.page';\r\n\r\n@NgModule({\r\n    imports: [\r\n      CommonModule,\r\n      FormsModule,\r\n      IonicModule,\r\n      ListarAcompanhamentoPageRoutingModule,\r\n      ReactiveFormsModule\r\n    ],\r\n    declarations: [ListarAcompanhamentoPage]\r\n  })\r\nexport class ListarAcompanhamentoPageModule {}\r\n","module.exports = \"ion-card-header {\\n  padding: 0px;\\n}\\n\\n.card-conteudo {\\n  padding: 8px;\\n}\\n\\n.texto-card-label {\\n  font-size: 12px;\\n  color: var(--ion-color-primary);\\n  font-weight: bold;\\n}\\n\\n.texto-card-text {\\n  font-size: 11px;\\n  color: var(--ion-color-primary);\\n}\\n\\n.texto-card-text-red {\\n  font-size: 11px;\\n  color: var(--ion-color-danger);\\n  font-weight: bold;\\n}\\n\\n.texto-card-text-yellow {\\n  font-size: 11px;\\n  color: var(--ion-color-warning);\\n  font-weight: bold;\\n}\\n\\n.texto-card-text-green {\\n  font-size: 11px;\\n  color: var(--ion-color-success);\\n  font-weight: bold;\\n}\\n\\n.alert-message.sc-ion-alert-md {\\n  font-size: 14px;\\n}\\n\\n.sc-ion-card-ios-h {\\n  margin-top: 4px;\\n}\\n\\n.list-ios {\\n  margin-top: 0px;\\n  margin-bottom: 0px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvaW1wb3J0YXIvbGlzdGFyLWFjb21wYW5oYW1lbnRvL0M6XFxEZXNlblxcd29ya3NwYWNlX2FwbGljYXRpdm9cXEFwcEFjb21wYW5oYW1lbnRvTWVkaWNvL3NyY1xcYXBwXFxwYWdlc1xcaW1wb3J0YXJcXGxpc3Rhci1hY29tcGFuaGFtZW50b1xcbGlzdGFyLWFjb21wYW5oYW1lbnRvLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvaW1wb3J0YXIvbGlzdGFyLWFjb21wYW5oYW1lbnRvL2xpc3Rhci1hY29tcGFuaGFtZW50by5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxZQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsK0JBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLCtCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0EsOEJBQUE7RUFDQSxpQkFBQTtBQ0NKOztBREVBO0VBQ0ksZUFBQTtFQUNBLCtCQUFBO0VBQ0EsaUJBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSwrQkFBQTtFQUNBLGlCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7QUNDSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2ltcG9ydGFyL2xpc3Rhci1hY29tcGFuaGFtZW50by9saXN0YXItYWNvbXBhbmhhbWVudG8ucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQtaGVhZGVyIHtcclxuICAgIHBhZGRpbmc6IDBweDtcclxufVxyXG5cclxuLmNhcmQtY29udGV1ZG8ge1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG59XHJcblxyXG4udGV4dG8tY2FyZC1sYWJlbCB7XHJcbiAgICBmb250LXNpemU6IDEycHg7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXByaW1hcnkpO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi50ZXh0by1jYXJkLXRleHQge1xyXG4gICAgZm9udC1zaXplOiAxMXB4O1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTsgICAgXHJcbn1cclxuXHJcbi50ZXh0by1jYXJkLXRleHQtcmVkIHtcclxuICAgIGZvbnQtc2l6ZTogMTFweDtcclxuICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItZGFuZ2VyKTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkOyAgIFxyXG59XHJcblxyXG4udGV4dG8tY2FyZC10ZXh0LXllbGxvdyB7XHJcbiAgICBmb250LXNpemU6IDExcHg7XHJcbiAgICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLXdhcm5pbmcpO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7ICAgXHJcbn1cclxuXHJcbi50ZXh0by1jYXJkLXRleHQtZ3JlZW4ge1xyXG4gICAgZm9udC1zaXplOiAxMXB4O1xyXG4gICAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1zdWNjZXNzKTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkOyAgIFxyXG59XHJcblxyXG4uYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtbWQge1xyXG4gICAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcblxyXG4uc2MtaW9uLWNhcmQtaW9zLWh7XHJcbiAgICBtYXJnaW4tdG9wOjRweDtcclxufVxyXG5cclxuLmxpc3QtaW9ze1xyXG4gICAgbWFyZ2luLXRvcDowcHg7XHJcbiAgICBtYXJnaW4tYm90dG9tOjBweDsgXHJcbn0iLCJpb24tY2FyZC1oZWFkZXIge1xuICBwYWRkaW5nOiAwcHg7XG59XG5cbi5jYXJkLWNvbnRldWRvIHtcbiAgcGFkZGluZzogOHB4O1xufVxuXG4udGV4dG8tY2FyZC1sYWJlbCB7XG4gIGZvbnQtc2l6ZTogMTJweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5KTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi50ZXh0by1jYXJkLXRleHQge1xuICBmb250LXNpemU6IDExcHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSk7XG59XG5cbi50ZXh0by1jYXJkLXRleHQtcmVkIHtcbiAgZm9udC1zaXplOiAxMXB4O1xuICBjb2xvcjogdmFyKC0taW9uLWNvbG9yLWRhbmdlcik7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4udGV4dG8tY2FyZC10ZXh0LXllbGxvdyB7XG4gIGZvbnQtc2l6ZTogMTFweDtcbiAgY29sb3I6IHZhcigtLWlvbi1jb2xvci13YXJuaW5nKTtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi50ZXh0by1jYXJkLXRleHQtZ3JlZW4ge1xuICBmb250LXNpemU6IDExcHg7XG4gIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYWxlcnQtbWVzc2FnZS5zYy1pb24tYWxlcnQtbWQge1xuICBmb250LXNpemU6IDE0cHg7XG59XG5cbi5zYy1pb24tY2FyZC1pb3MtaCB7XG4gIG1hcmdpbi10b3A6IDRweDtcbn1cblxuLmxpc3QtaW9zIHtcbiAgbWFyZ2luLXRvcDogMHB4O1xuICBtYXJnaW4tYm90dG9tOiAwcHg7XG59Il19 */\"","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController, NavController } from '@ionic/angular';\r\nimport * as moment from 'moment';\r\nimport { SaudiToastComponent } from 'src/app/components/saudi-toast/saudi-toast.component';\r\nimport Constantes from 'src/app/config/constantes/constantes';\r\nimport { AcompanhamentoMedico } from 'src/app/model/AcompanhamentoMedico.model';\r\nimport { Usuario } from 'src/app/model/Usuario.model';\r\nimport { AcompanhamentoService } from 'src/app/services/acompanhamento.service';\r\nimport { NetworkService } from 'src/app/services/network.service';\r\nimport { StorageService } from 'src/app/services/storage.service';\r\n\r\n@Component({\r\n    selector: 'app-listar-acompanhamento',\r\n    templateUrl: './listar-acompanhamento.page.html',\r\n    styleUrls: ['./listar-acompanhamento.page.scss'],\r\n  })\r\nexport class ListarAcompanhamentoPage implements OnInit {\r\n\r\n    public listaAcompanhamentos = []\r\n    public listaAcompanhamentosFiltrados = []\r\n    public listaAcompanhamentosPagina = []\r\n    public filtroLista: string\r\n    public flgMarcarTodos: boolean     \r\n\r\n    constructor(\r\n        private router: Router,\r\n        private navCtrl: NavController,\r\n        private atrCtrl: AlertController,\r\n        private toast: SaudiToastComponent,\r\n        private acompanhamentoService: AcompanhamentoService,\r\n        private storageService: StorageService,\r\n        private networkService: NetworkService){}\r\n\r\n    ngOnInit() {\r\n        moment.locale('pt-br');\r\n        this.flgMarcarTodos = false\r\n        this.recuperarDados();             \r\n    }\r\n\r\n    recuperarDados() {\r\n        let getNav = this.router.getCurrentNavigation()\r\n        if (getNav.extras.state) {            \r\n          this.listaAcompanhamentos = getNav.extras.state.lista\r\n          this.listaAcompanhamentosFiltrados = this.listaAcompanhamentos  \r\n          this.verificaExisteDispositivo(this.listaAcompanhamentos)                        \r\n        }else {\r\n            this.toast.errorToast('Ocorreu um erro inesperado, por favor tente novamente.')\r\n            this.navCtrl.navigateBack('menu-principal/importar-com-senha')\r\n        }\r\n    }\r\n\r\n    filtrarLista(event){\r\n        this.filtroLista = event.target.value.toLowerCase()\r\n        this.listaAcompanhamentosFiltrados = this.listaAcompanhamentos     \r\n        this.listaAcompanhamentosFiltrados = this.listaAcompanhamentosFiltrados.filter((item) =>{\r\n          return item.concatDadosAcompanhamentoFiltro.toLowerCase().includes(this.filtroLista)\r\n        })     \r\n    }\r\n  \r\n    cancelaFiltroLista(){\r\n        this.filtroLista = ''\r\n        this.listaAcompanhamentosFiltrados = this.listaAcompanhamentos      \r\n    }\r\n\r\n    async confirmarImportarAcompanhamento(){\r\n        this.networkService.CheckNetworkStatus()\r\n        if (!this.networkService.NetworkStatus.value) {\r\n            this.toast.errorToast(\"Sem conexão com a internet, não é possível importar.\")\r\n        }else{\r\n            let importar: boolean = false\r\n            for(let acompanhamento of this.listaAcompanhamentosFiltrados){\r\n                if(acompanhamento.flgImportar){\r\n                    importar = true\r\n                    break\r\n                }\r\n            }\r\n            if(importar){\r\n                let mensagem = \"Os acompanhamento médicos marcados serão importados.\"  \r\n                const alert = await this.atrCtrl.create({\r\n                    header: 'Importar Acompanhamento?',\r\n                    message: mensagem,\r\n                    buttons: [\r\n                    {\r\n                        text: 'Cancelar',\r\n                        role: 'cancel',\r\n                        handler: () => {}\r\n                    }, \r\n                    {\r\n                        text: 'Confirmar',\r\n                        handler: () => { \r\n                            this.importarAcompanhamento()                                                           \r\n                        }\r\n                    }    \r\n                    ]                    \r\n                });\r\n                await alert.present()         \r\n            }else{\r\n                this.toast.errorToast(\"Nenhum acompanhamento selecionado para importar\")\r\n            }\r\n        }      \r\n    }\r\n\r\n    async importarAcompanhamento(){\r\n        let usuario: Usuario = new Usuario()\r\n        usuario = JSON.parse(localStorage.getItem('@appAcompanhamentoMedico:dadosUsuario'))\r\n        for(let acompanhamento of this.listaAcompanhamentosFiltrados){\r\n            if (acompanhamento.flgImportar) { \r\n                acompanhamento.flgExibeGifProcessando = true    \r\n                acompanhamento.flgImportar = false                    \r\n                acompanhamento.flgImportadoSucesso = true\r\n                acompanhamento.flgExibeGifProcessando = false\r\n                acompanhamento.usuario = usuario\r\n                acompanhamento.operadora = usuario.operadora \r\n                if(acompanhamento.flgExisteDispositivo){                    \r\n                    await this.storageService.atualizar(Constantes.STORAGE_ACOMPANHAMENTO_MEDICO,acompanhamento,\"senhaAutorizacao.senha\")\r\n                }else{ \r\n                    await this.storageService.adicionar(Constantes.STORAGE_ACOMPANHAMENTO_MEDICO,acompanhamento)\r\n                }\r\n            }\r\n        }\r\n    }   \r\n    \r\n    async verificaExisteDispositivo(listaAcompanhamentos : AcompanhamentoMedico[]){\r\n        let acompanhamentoDispositivo: AcompanhamentoMedico\r\n        let listaDispositivo = []\r\n        await this.storageService.buscarTodos(Constantes.STORAGE_ACOMPANHAMENTO_MEDICO).then(items=>{\r\n            if(items != null){\r\n                listaDispositivo = items;\r\n            }  \r\n        }) \r\n        for(let acomp of listaAcompanhamentos){\r\n            acompanhamentoDispositivo = listaDispositivo.find(x => x.senhaAutorizacao.senha === acomp.senhaAutorizacao.senha && \r\n                                                                   x.beneficiario.carteiraBeneficiario === acomp.beneficiario.carteiraBeneficiario )\r\n            if(acompanhamentoDispositivo != null){\r\n                acomp.flgExisteDispositivo = true\r\n            }else{\r\n                acomp.flgExisteDispositivo = true\r\n                acomp.flgExisteDispositivo = false\r\n            } \r\n        }                                       \r\n    }\r\n\r\n    marcarDesmarcarTodos(){         \r\n        this.flgMarcarTodos = !this.flgMarcarTodos;\r\n        for(let acompanhamento of this.listaAcompanhamentosFiltrados){\r\n            acompanhamento.flgImportar = this.flgMarcarTodos                            \r\n        }\r\n    }\r\n}    "],"sourceRoot":""}